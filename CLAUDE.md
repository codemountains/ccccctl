# CLAUDE.md

このファイルは、Claude Code がこのリポジトリでコードを操作する際のガイダンスを提供します。

## プロジェクト概要

`ccccctl`は**Claude Code Custom Commands Control**の意味で、Claude Codeのカスタムコマンドを管理するためのCLIツールです。

TypeScriptで実装されたCLIツールでユーザーは `npm install` もしくは `npx` でツールを実行することができます。

### CLIの仕様

`ccccctl add {COMMAND_NAME}`:
- レジストリからコマンド定義ファイル（`.md`）をローカルの`.claude/commands`ディレクトリに格納する
- `--name {OVERWRITE_NAME}`オプションで任意のコマンド名を指定できる
- 更新（update）の場合は remove 実行後に add します

`ccccctl remove {COMMAND_NAME}`:
- `.claude/commands`ディレクトリの指定のコマンド定義ファイル（`.md`）を削除する

`ccccctl list`:
- レジストリに登録されたコマンドをリスト表示します

`ccccctl version` or `ccccctl --version` or `ccccctl -V`:
- CLIツールのバージョンを表示します

### レジストリの仕様

`type`は`registry_directory`と`github`があります。
`registry_directory`は`registry`ディレクトリにコマンド定義ファイルがあります。
`github`は`url`を定義する必要があり、Githubのパブリックのリポジトリからコマンド定義ファイルを取得します。

`registry`ディレクトリに`command.yml`が追加・更新されると、`registry.yml`は機械的にマージされます。

```yml:registry.yml
---
# Don't edit registry.yaml manually.
# registry.yml is generated by command "XXXX".
commands:
  - type: registry_directory
    name: history
    description: Show prompt history.

  - type: github
    name: example
    description: Example command.
    url: https://github.com/codemountains/cccc-example/.claude/commands/example.md

```

上記の`registry.yml`の場合、`registry`ディレクトリは以下のようになります。

```
ccccctl
└── registry
    ├── commands
    │   ├── history
    │   │   ├── command.yml
    │   │   └── history.md
    │   └── example
    │       └── command.yml
    └── registry.yml
```

```yml:/history/command.yml
commands:
  - type: registry_directory
    name: history
    description: Show prompt history.
```

```yml:/example/command.yml
commands:
  - type: github
    name: example
    description: Example command.
    url: https://github.com/codemountains/cccc-example/.claude/commands/example.md
```

## 開発コマンド

- **コードをリント**: `npm run lint`
- **リントして修正**: `npm run lint:fix`
- **テスト**: 現在テストフレームワークは設定されていません（プレースホルダースクリプトが存在）

## コードアーキテクチャ

ディレクトリ構成

```
ccccctl
├── registry                        #カスタムコマンドのレジストリ
│   ├── commands
│   │   └── {command-name}
│   │       ├── command.yml
│   │       └── {command-name}.md
│   └── registry.yml
├── src
│   └── ...                         # CLLツールの本体のソースコード
└── README.md
```

## ツールと設定

- **リンター/フォーマッター**: Biome v2.0.6
- **パッケージマネージャー**: npm（package-lock.json存在）
- **モジュールシステム**: ESモジュール

## 開発メモ

コードを追加する際は、ESモジュールパターンに従い、コードフォーマッティングとリンティングにBiomeを使用してください。
